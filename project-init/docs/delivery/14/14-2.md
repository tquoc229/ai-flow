# 14-2 Tích hợp Wrapper Component cho một Thành phần Nội dung Đơn giản

@Back to task list

## Description

Là một nhà phát triển, tôi muốn tạo một "wrapper component" và áp dụng nó cho một thành phần nội dung đơn giản (ví dụ: tiêu đề trang) để xác minh chức năng chỉnh sửa trực quan.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
| --------- | ---------- | ----------- | --------- | ------- | ---- |
|           |            |             |           |         |      |

## Requirements

1. Tạo một component `VisualEditorWrapper`.
2. Component này nhận `collection` và `itemId` làm props.
3. Khi tính năng chỉnh sửa được bật, wrapper sẽ hiển thị một icon "edit" bên cạnh nội dung được bao bọc.
4. Nhấp vào icon "edit" sẽ mở trang chỉnh sửa của item tương ứng trong Directus Admin.
5. Áp dụng wrapper này thành công cho component `PageTitle` hoặc một component tương tự.

## Implementation Plan

- **File:** `components/VisualEditorWrapper.tsx`
  - Tạo component React `VisualEditorWrapper`.
  - Props: `children`, `collection`, `itemId`.
  - Sử dụng hook `useVisualEditor` từ task 14-1.
  - Nếu hook trả về `true`, render `children` cùng với một thẻ `div` hoặc `span` chứa thuộc tính `data-directus-collection` và `data-directus-item`.
  - Hiển thị một icon "edit" (sử dụng một thư viện icon như `lucide-react`).
- **File:** `app/(main)/[slug]/page.tsx` (hoặc nơi `PageTitle` được sử dụng)
  - Import `VisualEditorWrapper`.
  - Bọc component `PageTitle` với `<VisualEditorWrapper collection="pages" itemId={page.id}>`.
  - Truyền `collection` và `itemId` một cách chính xác.

## Verification

- Khi xem một trang với tư cách là biên tập viên đã xác thực, icon "edit" xuất hiện bên cạnh tiêu đề trang.
- Nhấp vào icon sẽ mở đúng trang trong Directus Admin trong một tab mới.
- Với tư cách là người dùng thông thường (hoặc khi tính năng bị tắt), không có icon nào xuất hiện và không có thay đổi nào về layout.
- Wrapper không làm hỏng các style hiện có của `PageTitle`.

## Files Modified

- `components/VisualEditorWrapper.tsx` (new file)
- `app/(main)/[slug]/page.tsx`
